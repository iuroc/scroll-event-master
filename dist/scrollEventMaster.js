var o=Object.defineProperty;var c=(s,l,t)=>l in s?o(s,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[l]=t;var r=(s,l,t)=>c(s,typeof l!="symbol"?l+"":l,t);class h{constructor(l){r(this,"target");r(this,"handlers",[]);r(this,"scrollHandler");r(this,"bottomLock",!1);r(this,"topLock",!1);r(this,"leftLock",!1);r(this,"rightLock",!1);r(this,"lastScrollX",0);r(this,"lastScrollY",0);this.target=l}on(l,t){this.handlers.push([l,t]),this.updateScrollHandler()}updateScrollHandler(){this.scrollHandler&&this.target.removeEventListener("scroll",this.scrollHandler),this.scrollHandler=l=>{const t=this.getScrollInfo();this.handlers.forEach(([e,i])=>{switch(e){case"bottom":if(this.bottomLock||t.scrollY==this.lastScrollY)return;t.scrollY+t.clientHeight>=t.height&&i(l);break;case"top":if(this.topLock||t.scrollY==this.lastScrollY)return;t.scrollY==0&&i(l);break;case"left":if(this.leftLock||t.clientWidth==t.width||t.scrollX==this.lastScrollX)return;t.scrollX==0&&i(l);break;case"right":if(this.rightLock||t.clientWidth==t.width||t.scrollX==this.lastScrollX)return;t.scrollX+t.clientWidth>=t.width&&i(l);break}}),this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY},this.target.addEventListener("scroll",this.scrollHandler)}getScrollInfo(){return this.target instanceof Window?{scrollX:this.target.scrollX,scrollY:this.target.scrollY,width:document.body.offsetWidth,height:document.body.offsetHeight,clientWidth:window.innerWidth,clientHeight:window.innerHeight}:{scrollX:this.target.scrollLeft,scrollY:this.target.scrollTop,width:this.target.scrollWidth,height:this.target.scrollHeight,clientWidth:this.target.clientWidth,clientHeight:this.target.clientHeight}}off(l){this.handlers=this.handlers.filter(t=>t[1]!=l),this.updateScrollHandler()}}Object.defineProperty(window,"ScrollEventMaster",{value:h});
